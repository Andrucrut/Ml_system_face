## Кейс №2: Распознавание лиц для контроля доступа
Состав команды и распределение ролей
1. Якунин Андрей — Владелец продукта (Product Owner)
   Отвечает за формулировку бизнес-требований и контроль соответствия продукта потребностям предприятия.
2. Балакирев Данииил — Архитектор ПО и Архитектор данных
   Разрабатывает архитектуру программного обеспечения и проектирует структуру хранения и обработки данных.
3. Мишка — Data Scientist и Data Engineer
   Занимается сбором, подготовкой и анализом данных, обучением и тестированием моделей машинного обучения.

### 1. Цели и предпосылки
Бизнес-цель: автоматизировать процесс контроля доступа на предприятии, заменив ручную проверку личности системой распознавания лиц. Это повысит безопасность, снизит затраты на персонал и ускорит проход через КПП.

Преимущества от использования ML:
- Исключение человеческого фактора при сверке фото
- Ускорение процесса верификации личности
- Повышение уровня безопасности доступа

Бизнес-требования:
- Система должна идентифицировать сотрудника менее чем за 1 секунду
- Точность распознавания не менее 98%
- Работа на 10 проходных в реальном времени

Функциональные требования:
- Поддержка фото/видеопотока с камер
- Поиск совпадений в базе
- Логирование попыток доступа

Нефункциональные требования:
- Высокая отказоустойчивость
- Масштабируемость
- Защита персональных данных

MVP:
- Реализация прототипа с одной проходной
- Внедрение базовой модели распознавания лиц

Технический долг:
- Поддержка нескольких моделей
- Расширенная аналитика

Пилот:
- Тестирование на 1 проходной в течение недели
- Успех: точность >= 98%, средняя задержка < 1 сек
### 2 Методология
Тип задачи: Классификация и распознавание образов (лиц).

Необходимые данные:
- Фото сотрудников с анфас
- Метаданные: ID, ФИО, должность, отдел
- Видеопоток с камер

Метрики качества:
- Точность (accuracy)
- F1-мера
- False Acceptance Rate (FAR)
- False Rejection Rate (FRR)

Риски:
- Низкое качество изображения с камер
- Недостаточная база изображений для обучения
- Ошибки идентификации при плохом освещении

Управление рисками:
- Предобработка видео
- Аугментация данных
- Тестирование на реальных камерах
### 3 Подготовка пилота
Критерии успеха:
- Средняя точность > 98%
- Время отклика < 1 сек
- Без сбоев при обработке > 10,000 событий

Пилот проводится на одной проходной, используется камера с разрешением 1080p и сервер с GPU.


### 4 Архитектура и инфраструктура
Устройства на местах (Edge):
•	Видеокамеры, установленные на проходных, поддерживающие протоколы для видеопотоков

•	Локальные серверы, выполняющие предварительную обработку видео: обнаружение лиц, выделение ключевых областей и отправка сжатых признаков на центральный сервер.
Централизованные сервисы:

•	API-шлюз (например, Nginx, FastAPI), который принимает данные с локальных серверов и распределяет нагрузку.

•	Модуль обработки лиц:

o	Обнаружение и нормализация лиц на изображениях.
o	Генерация уникальных векторных представлений лиц (эмбеддингов).

•	Система поиска и сопоставления с базой данных сотрудников с использованием специализированных векторных хранилищ.

•	Модуль принятия решений и логирования с интеграцией в систему контроля доступа.

Хранилища данных:
•	Реляционная база (PostgreSQL) для хранения информации о сотрудниках, их ролях и правах.
•	Быстрый кэш (Redis) для ускорения повторных запросов и снижения нагрузки.
Мониторинг и аналитика:
•	Инструменты наблюдения (Prometheus, Grafana) для отслеживания производительности, загрузки системы и точности распознавания.




Организация инфраструктуры и масштабирование
Способ реализации	Плюсы	Минусы
Вычисления на месте (Edge)	Сокращение задержек, меньше трафика на сеть	Ограничения по аппаратным ресурсам
Облачные решения	Легкость масштабирования, поддержка ML	Зависимость от сети и дополнительные расходы
Собственные серверы (On-Premise)	Контроль над данными и процессами	Высокие затраты на оборудование и обслуживание


Технические требования
Показатель	Значение	Причина
Надежность (SLA)	99.9% времени работы	Обеспечение бесперебойной работы системы
Производительность	До 300 запросов в секунду	Поддержка нескольких проходных одновременно
Время отклика	Менее 1 секунды	Предотвращение скопления очередей на КПП

Потенциальные проблемы и решения
Проблема	Предлагаемые меры
Поломка оборудования	Регулярное техническое обслуживание и резервирование
Перегрузка сетевого канала	Использование обработки на местах и оптимизация передачи данных
Внешние атаки (спуфинг)	Внедрение многоуровневой верификации и обновление моделей
Сложности с идентификацией (маски, аксессуары)	Расширение обучающих данных, использование продвинутых моделей
Соответствие законодательству	Внедрение политики защиты данных и аудита


### 5 Диаграммы прилагаются в отдельной папке и должны быть добавлены в структуру репозитория:
- IDEF0: Бизнес-процесс до и после внедрения

ДО 
